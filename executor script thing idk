local Rayfield = loadstring(game:HttpGet('https://sirius.menu'))()

-- 1. DETECTION LOGIC (PC vs Mobile)
local UserInputService = game:GetService("UserInputService")
local GuiService = game:GetService("GuiService")
local IsMobile = UserInputService.TouchEnabled
local ScreenSize = workspace.CurrentCamera.ViewportSize

-- Set sizes based on device
local FinalSize = IsMobile and UDim2.new(0, 360, 0, 220) or UDim2.new(0, 500, 0, 350)

-- 2. CREATE THE WINDOW
local Window = Rayfield:CreateWindow({
   Name = "EJER Executor",
   LoadingTitle = "EJER Mobile & PC Interface",
   LoadingSubtitle = "by EJER",
   ConfigurationSaving = { Enabled = true, Folder = "EJER_Scripts" },
   KeySystem = false -- Set to true if you want a key system
})

-- 3. THE "CURSIVE E" FLOATING BUTTON (The Minimize Feature)
-- This creates a button that stays on screen to re-open the UI
local ReopenButton = Instance.new("ScreenGui")
local EButton = Instance.new("ImageButton")

ReopenButton.Name = "EJER_Toggle"
ReopenButton.Parent = game.CoreGui
ReopenButton.ZIndexBehavior = Enum.ZIndexBehavior.Sibling

EButton.Name = "E_Logo"
EButton.Parent = ReopenButton
EButton.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
EButton.Position = UDim2.new(0.05, 0, 0.15, 0)
EButton.Size = UDim2.new(0, 50, 0, 50)
EButton.Image = "rbxassetid://123456789" -- REPLACE THIS with a Cursive E Asset ID
EButton.Visible = false -- Hidden until UI is minimized

-- Make the E button draggable for mobile
EButton.Active = true
EButton.Draggable = true

EButton.MouseButton1Click:Connect(function()
    Window:Visible(true)
    EButton.Visible = false
end)

-- 4. SCRIPT HUB TAB (With Search Bar)
local HubTab = Window:CreateTab("Script Hub", 4483362458) -- Hub Icon

HubTab:CreateInput({
   Name = "Search Scripts...",
   PlaceholderText = "Type game name (e.g. Blox Fruits)",
   RemoveTextAfterFocusLost = false,
   Callback = function(Text)
       print("Searching for: " .. Text)
       -- You would add your filtering logic here
   end,
})

HubTab:CreateButton({
   Name = "Infinite Yield (Universal)",
   Callback = function()
       loadstring(game:HttpGet('https://raw.githubusercontent.com'))()
   end,
})

HubTab:CreateButton({
   Name = "CMD-X",
   Callback = function()
       loadstring(game:HttpGet('https://raw.githubusercontent.com'))()
   end,
})

-- 5. EXECUTOR TAB
local ExecTab = Window:CreateTab("Executor", 4483345998)

local ScriptToRun = ""
ExecTab:CreateInput({
   Name = "Paste Script Here",
   PlaceholderText = "print('Hello EJER')",
   RemoveTextAfterFocusLost = false,
   Callback = function(Text)
       ScriptToRun = Text
   end,
})

ExecTab:CreateButton({
   Name = "Run Script",
   Callback = function()
       assert(loadstring(ScriptToRun))()
   end,
})

-- Handle Minimizing
Rayfield:Notify({
   Title = "EJER Loaded",
   Content = "Detected: " .. (IsMobile and "Mobile" or "PC"),
   Duration = 5,
   Image = 4483345998,
})
